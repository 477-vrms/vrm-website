<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress 
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, available online at https://engineering.purdue.edu/ece477/Course/Policies/policies.html

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<base href="https://engineering.purdue.edu/477grp2/" />

<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>
	
		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="Files/img/BannerImgExample.jpg"></img>
		</div>
	
		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
            <h2>Progress Report for Emma Clary</h2>
            
            <br>

            <h4>Week 2:</h4>
            <b>Date:</b> Jan 21, 2022<br>
            <b>Total hours:</b> 10 hours <br>
            <b>Description of design efforts:</b><br>
			
            <img style="width: 25%;" src="Files/img/progress1/week2/RobotScrewdriver.png"/>
			
 	    <p style="font-weight: bold; text-align: center;">Main Goals for the Week</p>
            <p>I spent this week working on setting up the robot arm that we rented from the lab and working on different ways of communicating with the servos. Once I could control the robot arm via Bluetooth (Built in IOS app), I broke out an Arduino uno to quickly prototype the serial connection between a controller and the 6-servo controller that came with the robot arm. Even though we are unable to utilize an Arduino in our final prototype, I set it up so that Brian would be able to test out the unity data while I work on setting up a serial communication on the STM32 development board. The LeArm robot kit came with built in Arduino Uno libraries that supported serial communication between the Arduino uno and the servo driver, so I felt it was worth the time spent to set up this prototype to make sure Brian wasnâ€™t blocked in his progress. I also researched the Raspberry-Pi wifi module and the STM32 development board capabilities. </p>

            <p style="font-weight: bold; text-align: center;">How did the student work on it? </p>
            <p> Most of my time was spent researching the specifications of the LeArm Robot Kit by searching through the user manuals, videos, and advanced communication tutorials. The remainder of my time was spent setting up the serial connection between the Arduino Uno and the servo driver using the tutorial. I used the LeArm app, Arduino IDE, LeArm manuals, and LeArm videos to complete this task. <\p>
		    
            <p style="font-weight: bold; text-align: center;"> What was the result, and how does this affect the project?  </p>
            <p> I successfully set up the communication between the Arduino Uno and the robot arm, so the team is now able to type in a number 0-2500 in the Arduino program for each individual servo (2-8) and controls the position of the servo once the program is compiled and uploaded to the Arduino.  The photo to the right is the LeArm app that they developed for the arm. The range for the servos is displayed there (0-2500). As I said above, this is temporary so the Software team can test the Unity data points while I develop the same Serial Communication using the STM32 development board. </p>
	    
	    <div class="inline-block"> 
		    <img style="width: 20%;" src="Files/img/progress1/week2/Servopng.jpg"/>
		    <img style="width: 20%;" src="Files/img/progress1/week2/arudion1.jpg"/>
		    <img style="width: 20%;" src="Files/img/progress1/week2/arduino2.jpg"/>
		    <img style="width: 20%;" src="Files/img/progress1/week2/arduino3.jpg"/>
	    </div>
		    
            <p style="font-weight: bold; text-align: center;"> UART Data format: </p>
           
	    <img style="width: 50%;" src="Files/img/progress1/week2/headerpng.png"/>
	    
  	    <p style="font-weight: bold; text-align: center;"> What are the next steps that must be taken? </p>
            <p> The next step is to replace the Arduino with the STM32 development board and test communication between the development board and the servos. After communication is tested and is verified to be correctly sending positional data, I need to connect the Raspberry-Pi to the STM32 development board using a serial communication protocol to transfer the Unity positional data directly to the STM32 board. </p>

            <!-- <h4>Week 2:</h4> -->
	    <br><br><br>
		   
            <h4>Week 3:</h4>
            <b>Date:</b> Jan 27, 2022<br>
            <b>Total hours:</b> 20 hours <br>
            <b>Description of design efforts:</b><br>
			
 	    <p style="font-weight: bold; text-align: center;">Main Goals for the Week</p>
            <p>I spent this week setting up the microcontroller environment, experimenting with the PWM functionality of the STM32, researching UART and SPI protocols, and ordering parts. </p>
           
 	    <p style="font-weight: bold; text-align: center;">How did the student work on it? </p>
            <p> Most of my time at the start of the week was spent setting up the microcontroller environment. I originally was going to use workbench like we did in ECE362, but I switched to the CubeIDE workspace since it had a superior UI. Once I downloaded and set up the initial preferences for the CubeIDE, I started with a basic PWM program to refresh on how to write programs for the STM32 breakout board. I had to reread quite a bit of the ECE362 lectures to refresh myself on a couple of important topics, but once I familiarized myself with the process again, I got the PWM program working. I set it to a 50% duty cycle and captured it with an AD2 scope to ensure it was working correctly.  <\p>
		    
            <img style="width: 100%;" src="Files/img/progress1/week2/pwmpng.png"/> 

            <p> Next I started to work on ordering new parts for the robot arm so that we can convert it to a 8 dof robot arm instead of the 6 dof arm it is now. This involves ordering 2 extra servos and some brackets to attach in the 5 and 6 position in the diagram below. </p>

            <img style="width: 100%;" src="Files/img/progress1/week2/diagrampng.png"/>
	    <p> Since we have more than 6 servos now, we needed a driver that would support that many servo drivers. After researching, I found a 16-channel servo controller. I also ordered the raspberry pi camera and case seen below. </p>
    
	    <div class="inline-block"> 
		   <img style="width: 25%;" src="Files/img/progress1/week2/driverpng.png"/>
		   <img style="width: 25%;" src="Files/img/progress1/week2/camerajpg.jpg"/>
		   <img style="width: 25%;" src="Files/img/progress1/week2/standjpg.jpg"/>
    	    </div>
		    
	    <p style="font-weight: bold; text-align: center;"> What was the result, and how does this affect the project?  </p>
	    <p> Now that I have successfully set up the microcontroller, AD2 scope, and ordered all of the materials we need, our project can really start coming together quickly. The PWM will be used for the motor on the bottom of the robot arm to give the arm 360 degrees of rotation, and it will also be used to control the buzzer whenever the server is disconnected.  </p>
  	    <p style="font-weight: bold; text-align: center;"> What are the next steps that must be taken? </p>
	    <p> The next step is to set up UART communication between the microcontroller and the servo driver. After that, an SPI or UART communication between the microcontroller and the Raspberry Pi will need to be established too.   </p>

            <!-- <h4>Week 3:</h4> -->
 	    
	    <h4>Week 4:</h4>
            <b>Date:</b> Feb 4, 2022<br>
            <b>Total hours:</b> 20 hours <br>
            <b>Description of design efforts:</b><br>
			
 	    <p style="font-weight: bold; text-align: center;">Main Goals for the Week</p>
            <p> This week I replaced the Arduino with the STM32 development board and tested communication between the development board and the servo driver module using a UART connection. After finishing this, I worked on the individual electrical overview document. I ordered new parts including brackets and a passive 5V buzzer. I investigated new motors and how we could add onto the robot arm once the brackets and motors arrived. </p>
 	    <p style="font-weight: bold; text-align: center;">How did the student work on it? </p>
            <p> Using the CubeIDE that I set up last week, I created a new project and researched the UART protocol so that I could communicate with the servo driver board like I did with the Arduino library last week. Once I read back through my ECE362 notes, I began writing my first program to contact the servo driver. Using the LeArm advanced communication document, I created a buffer with the following structure seen below:  </p>
		    
	    <div class="inline-block"> 
		   <img style="width: 25%;" src="Files/img/progress1/week2/commandheader.png"/>
		   <img style="width: 25%;" src="Files/img/progress1/week2/bufferpic.png"/>
    	    </div>

            <p> The buffer had to be set up this way so that the buffer could be sent across the UART Tx wire to be received in the correct format by the servo driver. Once I got one of the motors to move, I experimented with which servo ID I sent to find out which servo had which servo ID. I also experimented to see what the limits for each individual servo were. </p>
	
	    <div class="inline-block"> 
		   <img style="width: 25%;" src="Files/img/progress1/Week 2/tableval.png"/>
    	    </div>
		    
	    <p>For the demo this week, I set up a program that moved all of the servos from their minimum values to their maximum values and then in reverse.</p>
  	    <p style="font-weight: bold; text-align: center;"> What are the next steps that must be taken? </p>
	    <p> The next step is the Raspberry-Pi UART connection. Once that is set up, we will be able to send the values that we have already gotten to the Raspberry-Pi from the server to the microcontroller.</p>
        </div>
	
            <!-- <h4>Week 4:</h4> -->
		    
		<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
		<div id="footer"></div>
    </div>
</div>

<!--JS-->
<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>
</body>
</html>
